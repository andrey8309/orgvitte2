{% extends 'base.html' %}

{% block title %}–°–ø–∏—Å–æ–∫ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è{% endblock %}

{% block content %}
<h2 class="mb-4">–°–ø–∏—Å–æ–∫ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è</h2>

<table class="table table-striped table-bordered bg-white shadow-sm">
    <thead class="table-dark">
        <tr>
            <th>ID</th>
            <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
            <th>–ò–Ω–≤. –Ω–æ–º–µ—Ä</th>
            <th>–°–æ—Å—Ç–æ—è–Ω–∏–µ</th>
            <th>–î–µ–π—Å—Ç–≤–∏—è</th>
        </tr>
    </thead>
    <tbody>
    {% for eq in equipment_list %}
        <tr>
            <td>{{ eq.id }}</td>
            <td>{{ eq.name }}</td>
            <td>{{ eq.inventory_number }}</td>
            <td>{{ eq.get_status_display }}</td>
            <td>
                {% if perms.app_orgvitte.change_equipment %}
                    <a href="{% url 'edit_equipment' eq.id %}" class="btn btn-warning btn-sm">‚úèÔ∏è</a>
                {% endif %}

                {% if perms.app_orgvitte.delete_equipment %}
                    <a href="{% url 'delete_equipment' eq.id %}" class="btn btn-danger btn-sm">üóë</a>
                {% endif %}

                {% if perms.app_orgvitte.add_equipmentaction %}
                    <a href="{% url 'add_equipment_action' eq.id %}" class="btn btn-info btn-sm">‚ûï –¥–µ–π—Å—Ç–≤–∏–µ</a>
                {% endif %}

                {% if perms.app_orgvitte.view_equipmentaction %}
                    <a href="{% url 'equipment_actions' eq.id %}" class="btn btn-secondary btn-sm">üìú –∏—Å—Ç–æ—Ä–∏—è</a>
                {% endif %}
            </td>
        </tr>
    {% empty %}
        <tr>
            <td colspan="5" class="text-center">–ù–µ—Ç –∑–∞–ø–∏—Å–µ–π</td>
        </tr>
    {% endfor %}
    </tbody>
</table>

{% if perms.app_orgvitte.add_equipment %}
    <a href="{% url 'add_equipment' %}" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ</a>
{% endif %}

{% if perms.app_orgvitte.view_equipment %}
    <a href="{% url 'export_equipment_csv' %}" class="btn btn-outline-success ms-2">‚¨áÔ∏è–≠–∫—Å–ø–æ—Ä—Ç –≤ CSV</a>
{% endif %}

{% endblock %}
